#:schema node_modules/wrangler/config-schema.json
name = "tryequipped"
main = "src/worker.ts"
compatibility_date = "2025-09-01"
compatibility_flags = ["nodejs_compat"]

# Custom domain configuration
[[routes]]
pattern = "tryequipped.preview.frst.dev"
custom_domain = true

# Static assets - headers configured via public/_headers file
[assets]
directory = "dist"
binding = "ASSETS"
run_worker_first = ["/api/*", "/webhooks/*"]

[[d1_databases]]
binding = "DB"
database_name = "equipped-db"
database_id = "b1b71c2d-ba07-470a-bf82-3084fa82017c"

[vars]
ENVIRONMENT = "production"
